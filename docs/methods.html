<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Methods | Missing Data And Imputation</title>
  <meta name="description" content="Chapter 3 Methods | Missing Data And Imputation" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Methods | Missing Data And Imputation" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Methods | Missing Data And Imputation" />
  
  
  

<meta name="author" content="Gabriel Rivera-Alvarez | Dillon Salas | Armon Darville" />


<meta name="date" content="2022-11-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.26/datatables.js"></script>
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MissingDataAndImputation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#statement-of-problem"><i class="fa fa-check"></i><b>1.1</b> Statement of Problem</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#relevance-of-problem"><i class="fa fa-check"></i><b>1.2</b> Relevance of Problem</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#literature-review"><i class="fa fa-check"></i><b>1.3</b> Literature Review</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data.html"><a href="data.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>3</b> Methods</a>
<ul>
<li class="chapter" data-level="3.1" data-path="methods.html"><a href="methods.html#generating-missing-values"><i class="fa fa-check"></i><b>3.1</b> Generating Missing Values</a></li>
<li class="chapter" data-level="3.2" data-path="methods.html"><a href="methods.html#single-imputation"><i class="fa fa-check"></i><b>3.2</b> Single Imputation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="methods.html"><a href="methods.html#most-frequent-for-categorical"><i class="fa fa-check"></i><b>3.2.1</b> Most Frequent for Categorical</a></li>
<li class="chapter" data-level="3.2.2" data-path="methods.html"><a href="methods.html#mean-for-continuous"><i class="fa fa-check"></i><b>3.2.2</b> Mean for Continuous</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="methods.html"><a href="methods.html#knn-imputation"><i class="fa fa-check"></i><b>3.3</b> kNN Imputation</a></li>
<li class="chapter" data-level="3.4" data-path="methods.html"><a href="methods.html#random-forest-imputation"><i class="fa fa-check"></i><b>3.4</b> Random Forest Imputation</a></li>
<li class="chapter" data-level="3.5" data-path="methods.html"><a href="methods.html#mice-imputatuion"><i class="fa fa-check"></i><b>3.5</b> Mice Imputatuion</a></li>
<li class="chapter" data-level="3.6" data-path="methods.html"><a href="methods.html#results"><i class="fa fa-check"></i><b>3.6</b> Results</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="methods.html"><a href="methods.html#error"><i class="fa fa-check"></i><b>3.6.1</b> Error</a></li>
<li class="chapter" data-level="3.6.2" data-path="methods.html"><a href="methods.html#comparisons"><i class="fa fa-check"></i><b>3.6.2</b> Comparisons</a></li>
<li class="chapter" data-level="3.6.3" data-path="methods.html"><a href="methods.html#interpretation"><i class="fa fa-check"></i><b>3.6.3</b> Interpretation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>4</b> References</a></li>
<li class="chapter" data-level="5" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>5</b> Appendix</a>
<ul>
<li class="chapter" data-level="5.1" data-path="appendix.html"><a href="appendix.html#code"><i class="fa fa-check"></i><b>5.1</b> Code</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Missing Data And Imputation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Methods<a href="methods.html#methods" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<ul>
<li>Visualization of the original dataset:
<img src="bookdownproj_files/figure-html/unnamed-chunk-2-1.png" width="672" /></li>
</ul>
<div id="generating-missing-values" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Generating Missing Values<a href="methods.html#generating-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before we perform the different methods of imputation for missing values we must first explore the types of missing data. These are: MCAR, MAR, MNAR.</p>
<p>MCAR (Missing Completely at Random) is the data missing where data points are not related to each other and probability of missing data is equal for every data point. This allows data to be unbiased and can use methods such as complete case analysis, single, and multiple imputation for valid analysis.</p>
<p>MAR (Missing at Random) is the likelihood of a value to be missing depends on other observed variables. This leaves a bias in our dataset and for this data type multiple imputation is a valid analysis.</p>
<p>MNAR (Missing Not at Random) is unequal and unknown probability to be missing for a dataset. Not only is the data missing but we cannot categorize data properly or know what data we do not have. For this data type, sensitivity analysis should be used.</p>
<p>Once missing value data type is determined some of the strategies are complete case analysis, single imputation, and multiple imputation.</p>
<p>Complete case analysis drops observations with missing values from the dataset. Single imputation replaces missing values with values thought to best represent the mechanism of the missing data such as mean or median.</p>
<p>Multiple imputation has several steps which summarize as imputation of multiple copies of original dataset are generated, replace missing values randomly sampled from the predictive distribution, fit models for each imputed dataset and perform statistical analysis on said datasets followed by pooling the results together. The result will contain the variability and uncertainty as if taken from a complete dataset without missing data and without introduction of bias.</p>
<p>Due to the challenge of missing data having many assumptions, decisions, and methods used for analysis, it is extremely important to thoroughly report each. Reporting the strategy used for missing data is critical for other researchers to reproduce and validate findings. Report findings such as count or proportion of missing values to variable of interest, methodology used for incomplete data analysis, assumptions regarding the cause of missingness: MCAR, MAR, or MNAR, software used to handle missing data, changes made, etc.</p>
<p>It is important to understand why and how to handle missing data. While multiple imputation is a preferred method to handle missing data in general, we still need to know when, why, and how. Detailed reporting is also needed to ensure reproducibility and validity.</p>
<p>Methods and ideas discussed will help deal with missing data in scientific research but should be considered as an introduction to the topic. This report will be focused on single and multiple imputation methods.</p>
<p>Generated NA’s for MCAR Type</p>
<pre><code>## Warning: `gather_()` was deprecated in tidyr 1.2.0.
## ℹ Please use `gather()` instead.
## ℹ The deprecated feature was likely used in the visdat package.
##   Please report the issue at &lt;]8;;https://github.com/ropensci/visdat/issueshttps://github.com/ropensci/visdat/issues]8;;&gt;.</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Generated NA’s for MAR Type
<img src="bookdownproj_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Generated NA’s for MNAR Type
<img src="bookdownproj_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="single-imputation" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Single Imputation<a href="methods.html#single-imputation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="most-frequent-for-categorical" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Most Frequent for Categorical<a href="methods.html#most-frequent-for-categorical" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The next imputation method that was performed is another form of single imputation which is most frequent imputation. This method is used for categorical variables and is considered another quick and simple approach for missing values.
This method replaces missing values with the most frequent value (mode) of the variable, with zeros or a constant pre-defined value.
Even though this is a very easy approach, this method also does not factor correlations between variables and can introduce bias to the dataset.</p>
</div>
<div id="mean-for-continuous" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Mean for Continuous<a href="methods.html#mean-for-continuous" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first imputation method performed will be single imputation but for continuous variables.
This method consists of replacing the missing values with either the mean or median for continuous variables.
This method is a very quick and simple approach when dealing with missing values. However, it does not factor correlations between variables and does not work for categorical variables.</p>
</div>
</div>
<div id="knn-imputation" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> kNN Imputation<a href="methods.html#knn-imputation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>KNN was the next imputation method performed. This method makes predictions about missing values by finding the K’s closest neighbors and impute the value based on the neighborhood.
The procedure of the algorithm consists of creating a basic mean impute to construct a KDTree. The KDTree is used to compute the nearest neighbor and then it finds the average of KNN’s.
This method has the advantage of being more accurate, but it is computationally expensive and is very sensitive to outliers.</p>
</div>
<div id="random-forest-imputation" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Random Forest Imputation<a href="methods.html#random-forest-imputation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The next method used is Random Forest.
This package used (missForest) is an iterative imputation method based on a random forest allows quality and flexibility utilizing built-in out-of-bag error estimates.
This non parametric alternative is also used on mixed types of data with ability to account for high-dimensions and different types of variables simultaneously.</p>
</div>
<div id="mice-imputatuion" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Mice Imputatuion<a href="methods.html#mice-imputatuion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The last method used is MICE (Multivariate Imputation by Chained Equations). This method involves filling the missing values multiple times until a certain threshold is met.
An important assumption of the MICE method is that it assumes that the missing data is Missing At Random (MAR).
This means that the probability that a value is missing depends only on observed values and not on unobserved values.
A drawback of this method is that when the data is not MAR could result in biased estimates.
By default, linear regression is used to predict continuous missing values.
Logistic regression is used for categorical missing values.
While this method offers advantages over other methods, a primary disadvantage is that it does not have the same theoretical justification as other techniques.</p>
<ul>
<li>Visualization after performing KNN to the original dataset:
<img src="bookdownproj_files/figure-html/unnamed-chunk-6-1.png" width="672" /><img src="bookdownproj_files/figure-html/unnamed-chunk-6-2.png" width="672" /></li>
</ul>
</div>
<div id="results" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Results<a href="methods.html#results" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="error" class="section level3 hasAnchor" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> Error<a href="methods.html#error" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="htmlwidget-7e6548eb1edaf96dbb76" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7e6548eb1edaf96dbb76">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"9.09090909090909\" data-max=\"90\" data-scale=\"14\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"11.0257790209739\" data-max=\"100\" data-scale=\"14\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"7.37303196776803\" data-max=\"91.304347826087\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"7.15272015970766\" data-max=\"81.25\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption>Errors by type<\/caption>","data":[["JobTitle_MCAR","Gender_MCAR","Age_MCAR","PerfEval_MCAR","Education_MCAR","Dept_MCAR","Seniority_MCAR","BasePay_MCAR","Bonus_MCAR","JobTitle_MAR","Gender_MAR","Age_MAR","PerfEval_MAR","Education_MAR","Dept_MAR","Seniority_MAR","BasePay_MAR","Bonus_MAR","JobTitle_MNAR","Gender_MNAR","Age_MNAR","PerfEval_MNAR","Education_MNAR","Dept_MNAR","Seniority_MNAR","BasePay_MNAR","Bonus_MNAR"],[86.9565217391304,41.6666666666667,30.388497406816,76,75,81.25,85,20.2258241119631,39.2409935503089,83.8709677419355,30.4347826086957,33.3403776356229,67.8571428571429,69.2307692307692,86.3636363636364,88.8888888888889,13.7497500312307,26.0146578176414,90,9.09090909090909,28.6454100384677,73.6842105263158,80,73.0769230769231,87.5,23.5954315733153,30.5003674765361],[100,20.8333333333333,23.592798676166,48,75,81.25,60,16.156854772014,14.8839580689621,90.3225806451613,47.8260869565217,27.0320570520883,64.2857142857143,84.6153846153846,86.3636363636364,61.1111111111111,11.0257790209739,12.7157793314972,90.3225806451613,47.8260869565217,21.2820713643249,64.2857142857143,84.6153846153846,86.3636363636364,61.1111111111111,20.4177128915293,11.9848012515578],[91.304347826087,20.8333333333333,15.7655667865881,36,75,50,80,10.8800576150213,9.94988323435348,80.6451612903226,39.1304347826087,17.6140018926673,21.4285714285714,76.9230769230769,77.2727272727273,61.1111111111111,7.37303196776803,10.3735898108254,80.6451612903226,39.1304347826087,14.0151255206066,21.4285714285714,76.9230769230769,77.2727272727273,61.1111111111111,12.468879126109,8.55450282263129],[69.5652173913043,29.1666666666667,20.1612326315953,32,81.25,75,40,14.9432802816491,8.92663266198327,70.9677419354839,30.4347826086957,15.3247978819651,17.8571428571429,73.0769230769231,77.2727272727273,77.7777777777778,10.0538611254618,9.9074833536083,70.9677419354839,30.4347826086957,12.8570640395704,17.8571428571429,73.0769230769231,77.2727272727273,77.7777777777778,12.5995527736382,7.15272015970766]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SI_Error<\/th>\n      <th>kNN_Error<\/th>\n      <th>RF_Error<\/th>\n      <th>MICE_Error<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="comparisons" class="section level3 hasAnchor" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> Comparisons<a href="methods.html#comparisons" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="interpretation" class="section level3 hasAnchor" number="3.6.3">
<h3><span class="header-section-number">3.6.3</span> Interpretation<a href="methods.html#interpretation" class="anchor-section" aria-label="Anchor link to header"></a></h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/garielito/MissingDataAndImputation/edit/master/03-Methods.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/garielito/MissingDataAndImputation/blob/master/03-Methods.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
